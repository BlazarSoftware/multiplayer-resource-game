[gd_scene load_steps=32 format=3 uid="uid://bc0gv4he0k5ta"]

[ext_resource type="Texture2D" uid="uid://c6p8bs6eksvr5" path="res://assets/BinbunVFX/shared/texture/placeholder.png" id="1_vn7vm"]
[ext_resource type="PackedScene" uid="uid://bflg720h1w3d3" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_01.tscn" id="2_t2wbt"]
[ext_resource type="PackedScene" uid="uid://dato0qpbqvwnj" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_02.tscn" id="3_0ayp4"]
[ext_resource type="PackedScene" uid="uid://cdsloy1kvhikp" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_03.tscn" id="4_hwdop"]
[ext_resource type="PackedScene" uid="uid://cl82y5gxnb8d6" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_04.tscn" id="5_pn2nt"]
[ext_resource type="PackedScene" uid="uid://shl0iw1x775r" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_05.tscn" id="6_1w6h6"]
[ext_resource type="PackedScene" uid="uid://bjru1p8jhdp1b" path="res://assets/BinbunVFX/impact_explosions/effects/explosion/vfx_explosion_06.tscn" id="7_qbfoq"]
[ext_resource type="PackedScene" uid="uid://34ptrnfgpwlp" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_01.tscn" id="8_o25xt"]
[ext_resource type="PackedScene" uid="uid://x7jrg2y81jse" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_02.tscn" id="9_1plst"]
[ext_resource type="PackedScene" uid="uid://b6eowhdx7a7vq" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_03.tscn" id="10_htcnc"]
[ext_resource type="PackedScene" uid="uid://2eq2j53sic1i" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_04.tscn" id="11_doqkh"]
[ext_resource type="PackedScene" uid="uid://dgct4mxupvyvi" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_05.tscn" id="12_xqauc"]
[ext_resource type="PackedScene" uid="uid://ditmybmcrt283" path="res://assets/BinbunVFX/impact_explosions/effects/impact/vfx_impact_06.tscn" id="13_i3mhr"]
[ext_resource type="PackedScene" uid="uid://ri1dspbxt43r" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_01.tscn" id="14_3gj8a"]
[ext_resource type="PackedScene" uid="uid://se15ow6u0q0m" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_02.tscn" id="15_lek47"]
[ext_resource type="PackedScene" uid="uid://b40oyf32pgee" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_03.tscn" id="16_d84l7"]
[ext_resource type="PackedScene" uid="uid://bbynk4p3biw83" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_04.tscn" id="17_rldqb"]
[ext_resource type="PackedScene" uid="uid://vkstbs4fu60" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_05.tscn" id="18_8nvr1"]
[ext_resource type="PackedScene" uid="uid://h47wdqps3cc6" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_06.tscn" id="19_xubrg"]
[ext_resource type="PackedScene" uid="uid://drtpctry2l8gr" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_07.tscn" id="20_bwmwf"]
[ext_resource type="PackedScene" uid="uid://cp7mydlqqpb17" path="res://assets/BinbunVFX/impact_explosions/effects/hit/vfx_hit_08.tscn" id="21_y8o6q"]

[sub_resource type="Shader" id="Shader_0xm2m"]
code = "// NOTE: Shader automatically converted from Godot Engine 4.4.1.stable's StandardMaterial3D.

shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_burley, specular_schlick_ggx;

uniform vec4 albedo : source_color;
uniform sampler2D texture_albedo : source_color, filter_linear_mipmap, repeat_enable;
uniform float proximity_fade_distance : hint_range(0.0, 4096.0, 0.01);
uniform ivec2 albedo_texture_size;
uniform float point_size : hint_range(0.1, 128.0, 0.1);

uniform float roughness : hint_range(0.0, 1.0);
uniform sampler2D texture_metallic : hint_default_white, filter_linear_mipmap, repeat_enable;
uniform vec4 metallic_texture_channel;
uniform sampler2D texture_roughness : hint_roughness_r, filter_linear_mipmap, repeat_enable;

uniform float specular : hint_range(0.0, 1.0, 0.01);
uniform float metallic : hint_range(0.0, 1.0, 0.01);
uniform sampler2D depth_texture : hint_depth_texture, repeat_disable, filter_nearest;

uniform vec3 uv1_scale;
uniform vec3 uv1_offset;
uniform vec3 uv2_scale;
uniform vec3 uv2_offset;

void vertex() {
	UV = UV * uv1_scale.xy + uv1_offset.xy;
}

void fragment() {
	vec2 base_uv = UV;

	vec4 albedo_tex = texture(texture_albedo, base_uv);
	ALBEDO = albedo.rgb * albedo_tex.rgb;

	float metallic_tex = dot(texture(texture_metallic, base_uv), metallic_texture_channel);
	METALLIC = metallic_tex * metallic;
	SPECULAR = specular;

	vec4 roughness_texture_channel = vec4(1.0, 0.0, 0.0, 0.0);
	float roughness_tex = dot(texture(texture_roughness, base_uv), roughness_texture_channel);
	ROUGHNESS = roughness_tex * roughness;
	ALPHA *= albedo.a * albedo_tex.a;

	// Proximity Fade: Enabled
	float proximity_depth_tex = textureLod(depth_texture, SCREEN_UV, 0.0).r;
	vec4 proximity_view_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, proximity_depth_tex, 1.0);
	proximity_view_pos.xyz /= proximity_view_pos.w;
	ALPHA *= clamp(1.0 - smoothstep(proximity_view_pos.z + proximity_fade_distance, proximity_view_pos.z, VERTEX.z), 0.0, 1.0);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1bvp3"]
render_priority = 0
shader = SubResource("Shader_0xm2m")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/proximity_fade_distance = 1.0
shader_parameter/albedo_texture_size = Vector2i(0, 0)
shader_parameter/point_size = 1.0
shader_parameter/roughness = 1.0
shader_parameter/metallic_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/specular = 0.5
shader_parameter/metallic = 0.0
shader_parameter/uv1_scale = Vector3(1, 1, 1)
shader_parameter/uv1_offset = Vector3(0, 0, 0)
shader_parameter/uv2_scale = Vector3(1, 1, 1)
shader_parameter/uv2_offset = Vector3(0, 0, 0)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_7dm0k"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_h2yge"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lquwl"]

[sub_resource type="Sky" id="Sky_lquwl"]
sky_material = SubResource("ProceduralSkyMaterial_lquwl")

[sub_resource type="Environment" id="Environment_0xm2m"]
background_mode = 2
background_color = Color(0.266667, 0, 0, 1)
background_energy_multiplier = 0.8
sky = SubResource("Sky_lquwl")
ambient_light_source = 3
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 2.0
ssao_enabled = true
ssao_intensity = 4.0
glow_enabled = true
glow_normalized = true
glow_intensity = 0.0
glow_bloom = 0.05
glow_map_strength = 0.0
fog_enabled = true
fog_light_color = Color(0.0629, 0.09503, 0.17, 1)
fog_light_energy = 2.0
fog_density = 0.02
volumetric_fog_enabled = true
volumetric_fog_density = 0.01
volumetric_fog_albedo = Color(0.482927, 0.681971, 0.820904, 1)
volumetric_fog_emission_energy = 0.0
adjustment_enabled = true
adjustment_contrast = 1.1
adjustment_saturation = 1.1

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_0xm2m"]
dof_blur_far_enabled = true
dof_blur_far_distance = 30.0
dof_blur_far_transition = 64.0
dof_blur_near_transition = -1.0

[sub_resource type="BoxMesh" id="BoxMesh_ig7tw"]
size = Vector3(1000, 6, 1000)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1bvp3"]
albedo_color = Color(0.866489, 0.931253, 0.944994, 1)
albedo_texture = ExtResource("1_vn7vm")
uv1_triplanar = true

[node name="Node3D" type="Node3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
visible = false
material_override = SubResource("ShaderMaterial_1bvp3")
mesh = SubResource("CapsuleMesh_7dm0k")
surface_material_override/0 = SubResource("ShaderMaterial_h2yge")

[node name="Environment" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(0.708475, 0.540625, 0.453638, 1.62119e-08, -0.642788, 0.766044, 0.705736, -0.542723, -0.455399, 0, 2.19112, 0)
light_color = Color(1, 0.992157, 0.956863, 1)
light_energy = 1.5
shadow_enabled = true
shadow_opacity = 0.5
shadow_blur = 9.219

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_0xm2m")
camera_attributes = SubResource("CameraAttributesPractical_0xm2m")

[node name="Ground" type="MeshInstance3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)
mesh = SubResource("BoxMesh_ig7tw")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_1bvp3")

[node name="Lights" type="Node3D" parent="Environment"]

[node name="SpotLight3D" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 10, 0)
light_energy = 30.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D2" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7, 10, 0)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D3" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -14, 10, 0)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D4" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -20, 10, 0)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D5" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 10, -7)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D6" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7, 10, -7)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D7" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -14, 10, -7)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="SpotLight3D8" type="SpotLight3D" parent="Environment/Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -20, 10, -7)
light_energy = 20.0
spot_range = 18.188
spot_angle = 40.0

[node name="Effects" type="Node3D" parent="."]

[node name="VFXExplosion_01" parent="Effects" instance=ExtResource("2_t2wbt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
alpha_mode = 0

[node name="VFXExplosion_02" parent="Effects" instance=ExtResource("3_0ayp4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 1, 0)

[node name="VFXExplosion_03" parent="Effects" instance=ExtResource("4_hwdop")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 1, 0)

[node name="VFXExplosion_04" parent="Effects" instance=ExtResource("5_pn2nt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17, 1, 0)

[node name="VFXExplosion_05" parent="Effects" instance=ExtResource("6_1w6h6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21, 1, 0)

[node name="VFXExplosion_06" parent="Effects" instance=ExtResource("7_qbfoq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25, 1, 0)

[node name="VFXImpact_01" parent="Effects" instance=ExtResource("8_o25xt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5)

[node name="VFXImpact_02" parent="Effects" instance=ExtResource("9_1plst")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, -5)

[node name="VFXImpact_03" parent="Effects" instance=ExtResource("10_htcnc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, -5)

[node name="VFXImpact_04" parent="Effects" instance=ExtResource("11_doqkh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -5)

[node name="VFXImpact_05" parent="Effects" instance=ExtResource("12_xqauc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 0, -5)

[node name="VFXImpact_06" parent="Effects" instance=ExtResource("13_i3mhr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25, 0, -5)

[node name="VFXHit_01" parent="Effects" instance=ExtResource("14_3gj8a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -9)

[node name="VFXHit_02" parent="Effects" instance=ExtResource("15_lek47")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5, 1, -9)

[node name="VFXHit_03" parent="Effects" instance=ExtResource("16_d84l7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 1, -9)

[node name="VFXHit_04" parent="Effects" instance=ExtResource("17_rldqb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 1, -9)
proximity_fade_distance = 0.5

[node name="VFXHit_05" parent="Effects" instance=ExtResource("18_8nvr1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.5, 1, -9)

[node name="VFXHit_06" parent="Effects" instance=ExtResource("19_xubrg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.5, 1, -9)

[node name="VFXHit_07" parent="Effects" instance=ExtResource("20_bwmwf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21, 1, -9)

[node name="VFXHit_08" parent="Effects" instance=ExtResource("21_y8o6q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24, 1, -9)

[node name="MainCamera" type="Camera3D" parent="."]
transform = Transform3D(-1, 5.01436e-08, -7.16125e-08, 0, 0.819152, 0.573576, 8.74228e-08, 0.573576, -0.819152, -12, 16, -27)
fov = 40.0
